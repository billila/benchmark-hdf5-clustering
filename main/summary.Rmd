---
title: "Benchmark Summary"
author: "Ruoxi Liu"
date: "6/19/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.width = 12)
```

```{r}
library(tidyr)
library(ggplot2)
library(gridExtra)
library(dplyr)
library(grid)
library(here)
```

```{r}
files <- list.files(path= here("output_tables"), pattern="*.csv", full.names=TRUE, recursive=FALSE)

final_table <- NULL

for (i in (1:length(files))){
  temp_table <- read.csv(file = files[i], header=TRUE, sep=",")
  final_table <- rbind(final_table, temp_table)
}
```

Fix batch size and k (study effects of observation)
```{r, warning=FALSE}
final_table %>% 
  dplyr::group_by(method, observations, batch_size) %>% 
  dplyr::summarize(mean = mean(memory), 
                   sd = sd(memory)) %>% 
  ggplot(aes(x = observations, y = mean, color = method)) +
          geom_line()+
          geom_point()+
          geom_errorbar(aes(ymin=mean-sd, ymax=mean+sd), width=.2,
                position=position_dodge(0.05))+
        labs(title = "Observation vs. Memroy w/ increading Batch Size") + 
  facet_wrap(~batch_size)
```

Fix observation and k (study effects of batch size)
```{r, warning=FALSE}
final_table %>% 
  dplyr::group_by(method, observations, batch_size) %>% 
  dplyr::summarize(mean = mean(memory), 
                   sd = sd(memory)) %>% 
  ggplot(aes(x = batch_size, y = mean, color = method)) +
          geom_line()+
          geom_point()+
          geom_errorbar(aes(ymin=mean-sd, ymax=mean+sd))+
        labs(title = "Batch Size vs. Memroy w/ increading Observation") + 
  facet_wrap(~observations, scales = "free")
```